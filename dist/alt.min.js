var alt=angular.module("Alt",[]);alt.application="alt",alt.environment="production",alt.version="1.0.0",alt.urlArgs="",alt.urlArgs="production"==alt.environment?"_v="+alt.version:"_t="+ +new Date,alt.theme="",alt.requires=[],alt.componentFolder="component",alt.modules={},alt.loader={},alt.registry={},alt.extend=function(t,e){return t="undefined"==typeof t||null==t?{}:t,e="undefined"==typeof e||null==e?"[object Array]"===Object.prototype.toString.call(t)?[]:{}:e,angular.forEach(t,function(n,o){switch(n="undefined"==typeof n||null==n?{}:n,typeof n){case"object":e[o]="[object Array]"===Object.prototype.toString.call(n)?e[o]||n:alt.extend(t[o],e[o]);break;default:e[o]="undefined"!=typeof e[o]&&e[o]!=angular.noop?e[o]:n}}),e},alt.config(["$locationProvider","$compileProvider","$controllerProvider","$filterProvider","$logProvider","$provide",function(t,e,n,o,a,r){alt._controller=alt.controller,alt._service=alt.service,alt._factory=alt.factory,alt._value=alt.value,alt._directive=alt.directive,alt._filter=alt.filter,alt._run=alt.run,alt._config=alt.config,alt.controller=function(t,e){return n.register(t,e),this},alt.config=function(t,e){return r.config(t,e),this},alt.constant=function(t,e){return r.constant(t,e),this},alt.service=function(t,e){return r.service(t,e),this},alt.factory=function(t,e){return r.factory(t,e),this},alt.value=function(t,e){return r.value(t,e),this},alt.directive=function(t,n){return e.directive(t,n),this},alt.filter=function(t,e){return o.register(t,e),this},alt.run=function(t){for(var e=angular.element(document.getElementsByTagName("body")[0]).injector(),n=(e.get("$log"),t.slice(0,t.length-1)),o=t[t.length-1],a=0;a<t.length-1;a++)n[a]=e.get(n[a]);return o.apply(null,n),this},alt.providers={$compileProvider:e,$controllerProvider:n,$filterProvider:o,$logProvider:a,$provide:r}}]),alt.module=function(t,e){if(e=e||!1,alt.requires.indexOf(t)<=-1){alt.requires.push(t);try{for(var n=angular.module(t),o=n._invokeQueue,a=n._runBlocks,r=0;r<o.length;r++){var i=o[r],l=alt.providers[i[0]];l[i[1]].apply(l,i[2])}for(var u=angular.element(document.getElementsByTagName("body")[0]).injector(),c=0;c<a.length;c++){for(var s=a[c],d=s.slice(0,s.length-1),f=s[s.length-1],p=0;p<d.length;p++)d[p]=u.get(d[p]);f.apply(null,d)}e&&u.get("$route")&&u.get("$route").reload()}catch(m){}}return alt},alt.directive("altComponent",["$log",function(t){return{templateUrl:function(t,e,n){var o=alt.componentFolder+"/"+e.altComponent+"/",a=o+"view."+(""!=alt.theme?alt.theme+".":"")+"html"+(""!=alt.urlArgs?"?"+alt.urlArgs:"");return a},transclude:!0,scope:{altComponent:"@",scope:"=",onload:"&?"},controller:["$scope","$timeout","$interval","$attrs","$element",function(t,e,n,o,a){var r=function(){t.onload=t.onload||function(){return angular.noop},t.onload=t.onload(),t.alt=alt;var n=alt.componentFolder+"/"+t.altComponent+"/",r=angular.element(document.getElementsByTagName("body")[0]).injector();requirejs([n+"controller"],function(n){var i=0,l=[];if("function"==typeof n){for(i=0;i<arguments.length;i++)l.push(arguments[i]);l.push(r),n.apply(this,l)}else if("object"==typeof n&&n.length){var u,c="function"==typeof n[n.length-1]?n[n.length-1]:angular.noop,s="function"==typeof n[n.length-1]?n.length-1:n.length;for(i=0;s>i;i++){switch(u=null,n[i]){case"$scope":u=t;break;case"$injector":u=r;break;case"$attrs":u=o;break;case"$element":u=a;break;default:u=r.get(n[i])||null}l.push(u)}c.apply(this,l)}angular.forEach(t.scope,function(e,n){try{t[n]=angular.copy(e)}catch(o){}});var d=function(e){return null!=e.$parent?("undefined"==typeof e.$parent.$attrs&&"object"==typeof e.$parent[o.scope]&&(e.$parent[o.scope]=t),d(e.$parent)):void 0};d(t),t.$apply(),e(function(){"function"==typeof t.onload&&t.onload()})})},i=function(){"undefined"!=typeof t.scope&&(window.clearInterval(l),r())},l=window.setInterval(i,100)}]}}]),alt.directive("altTransclude",["$log",function(t){return{templateUrl:function(t,e,n){var o=alt.componentFolder+"/"+e.altTransclude+"/",a=o+"view."+(""!=alt.theme?alt.theme+".":"")+"html"+(""!=alt.urlArgs?"?"+alt.urlArgs:"");return a},transclude:!0,scope:!0,controller:["$scope","$timeout","$interval","$attrs","$element","$rootScope",function(t,e,n,o,a,r){t.$attrs=o;var i=function(){var n=t.$new(),r=alt.componentFolder+"/"+o.altTransclude+"/",i=angular.element(document.getElementsByTagName("body")[0]).injector();n.alt=alt,n.altTransclude=o.altTransclude,n.scope=o.scope,n.onload=t[o.onload]||angular.noop,n.parent=t,requirejs([r+"controller"],function(r){var l=0,u=[];if("function"==typeof r){for(l=0;l<arguments.length;l++)u.push(arguments[l]);u.push(i),r.apply(this,u)}else if("object"==typeof r&&r.length){var c,s="function"==typeof r[r.length-1]?r[r.length-1]:angular.noop,d="function"==typeof r[r.length-1]?r.length-1:r.length;for(l=0;d>l;l++){switch(c=null,r[l]){case"$scope":c=n;break;case"$injector":c=i;break;case"$attrs":c=o;break;case"$element":c=a;break;default:c=i.get(r[l])||null}u.push(c)}s.apply(this,u)}angular.forEach(t[o.scope],function(t,e){if(null!=t&&"undefined"==typeof t.$watch)try{n[e]=angular.copy(t)}catch(o){}}),o.scope&&(t[o.scope]=n),o.scope&&t.$parent[o.scope]&&(t.$parent[o.scope]=n),n.$apply(),e(function(){"function"==typeof n.onload&&n.onload()})})},l=function(){("undefined"==typeof o.scope||"undefined"!=typeof t[o.scope])&&(window.clearInterval(u),i())},u=window.setInterval(l,100)}]}}]),alt.factory("$uuid",function(){return{create:function(){function t(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return t()+t(!0)+t(!0)+t()},empty:function(){return"00000000-0000-0000-0000-000000000000"}}}),alt.run(["$rootScope","$q","$log",function(t,e,n){t.defaultRouteChanged=function(){var t=e.defer();return t.resolve(),t.promise},t.onRouteChanged=t.defaultRouteChanged,t.alt=alt}]),alt.config(["$compileProvider",function(t){t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|tel):/),t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension):/)}]),window.alt=alt,alt.loader.alert=function(){return"undefined"!=typeof alt.modules.alert?alt.modules.alert:(alt.modules.alert=angular.module("alt-alert",[]).factory("$alert",["$log","$timeout","$rootScope",function(t,e,n){return{items:[],warning:"warning",danger:"danger",info:"info",success:"success",ismultiple:!0,timer:4e3,add:function(t,n,o){t=t||"",n=n||this.warning,o=o||0,this.ismultiple||(this.items=[]);var a=this,r=this.items.length,i={id:r,type:n,message:t,skip:o,isshow:0==o,hide:function(){this.isshow=!1;var t=a.items.indexOf(this),e=[];angular.forEach(a.items,function(n,o){o!=t&&e.push(n)}),a.items=e},onload:function(){var t=this;e(function(){t.hide()},a.timer)}};this.items.push(i)}}}]).run(["$log","$timeout","$rootScope","$alert",function(t,e,n,o){n.$alert=o}]),void alt.module("alt-alert",alt.modules.alert))},"undefined"!=typeof define?define([],function(){alt.loader.alert()}):alt.loader.alert(),alt.loader.api=function(){return"undefined"!=typeof alt.modules.api?alt.modules.api:(alt.modules.api=angular.module("alt-api",[]).config(["$provide","$httpProvider",function(t,e){e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var n=null;t.factory("httpInterceptor",["$log","$q","$window",function(t,e,o){return{request:function(t){if(n=n||t.transformRequest,t.headers["Content-Type"])if(0===t.headers["Content-Type"].indexOf("application/x-www-form-urlencoded")){var e=[],o=function(t,e){if("$$hashKey"==t)return"";var n;switch(typeof e){case"string":case"number":return t+"="+encodeURIComponent(e);case"object":n=[];for(var a in e)e.hasOwnProperty(a)&&"$$hashKey"!=a&&n.push(o(t+"["+a+"]",e[a]));return n.join("&");case"array":n=[];for(var a=0;a<e.length;a++)n.push(o(t+"["+a+"]",e[a]));return n.join("&")}};for(var a in t.data)t.data.hasOwnProperty(a)&&"$$hashKey"!=a&&e.push(o(a,t.data[a]));t.transformRequest=n,t.data=e.join("&")}else 0==t.headers["Content-Type"].indexOf("multipart/form-data")&&(t.transformRequest=[function(e){var n=new FormData,o=function(t,e,n){if("$$hashKey"==e)return"";switch(typeof n){case"string":case"number":t.append(e,n);break;case"object":if("undefined"!=typeof File&&n instanceof File)t.append(e,n);else if("undefined"==typeof File&&"undefined"!=typeof n.name)t.append(e,n);else for(var a in n)n.hasOwnProperty(a)&&"$$hashKey"!=a&&o(t,e+"["+a+"]",n[a]);break;case"array":for(var a=0;a<n.length;a++)o(t,e+"["+a+"]",n[a])}};for(var a in t.data)t.data.hasOwnProperty(a)&&"$$hashKey"!=a&&o(n,a,t.data[a]);return n}],delete t.headers["Content-Type"]);return t.timeout=alt.timeout||1e4,t},response:function(t){var n={};try{n=angular.copy(t)}catch(a){}if("object"==typeof t.data){if(t.data=t.data||{},n.version=t.data.v||100,n.code=t.data.s||t.data.c||t.data.code||t.status||200,n.status=n.code,n.data=t.data.d||t.data.data||t.data,n.message=t.data.m||t.data.msg||t.data,n.time=t.data.t||0,n.usage=t.data.u||"",n.token=t.data.token||t.token||"",200!=n.status)return 401==n.status?(o.location.href=alt.baseUrl+"auth/login",e.reject(n)):(n.message=n.message||"Gagal terhubung ke server",e.reject(n))}else if(0===t.config.url.indexOf(alt.serverUrl)&&200!=t.status&&"object"!=typeof t.data)return n.code=-1,n.status=n.code,n.message="Tidak dapat terhubung ke server","development"==alt.environment.toLowerCase()&&(n.message+="<br/>"+t.data),e.reject(n);return n}}}]),e.interceptors.push("httpInterceptor")}]).factory("$api",["$http","$log","$q",function(t,e,n){return function(e,o,a){e=e||"";var r=e.split("/");return o=o||r[r.length-1]+"id",e=(0!==e.indexOf(alt.serverUrl)?alt.serverUrl:"")+e,a=alt.extend({connect:function(){return!0},success:function(){return!0},error:function(){return!0}},a),{url:e,pkey:o,config:a,connect:function(o,r,i){o=o||"",o=(0!==o.indexOf("/")?"/":"")+o,r=r||{},i=alt.extend({skipAuthorization:!1,ismultipart:!1,method:"POST"},i);var l=n.defer(),u=!1,c=l.promise,s=n.defer(),d={headers:{"Content-Type":i.ismultipart?"multipart/form-data":i.contenttype?i.contenttype:"application/x-www-form-urlencoded"},skipAuthorization:i.skipAuthorization,method:i.method,data:r,url:e+o,timeout:s.promise};return a.connect(d)!==!1?t(d).then(function(t){a.success(t,d,l,u)!==!1&&l.resolve(t,d,l,u)},function(t){a.error(t,d,l,u)!==!1&&l.reject(t,d,l,u)}):a.error({message:"Tidak dapat terhubung"},d,l,u)!==!1&&l.reject({message:"Tidak dapat terhubung"},d,l,u),c.abort=function(){u=!0,s.resolve()},c},count:function(t,e){return this.connect("count",t,e)},list:function(t,e){return this.connect("list",t,e)},retrieve:function(t,e,n){if(t=t||"",e=e||{},"object"==typeof t)try{e=angular.copy(t)}catch(a){e=t}else e[o]=t;return this.connect("retrieve",e,n)},keyvalues:function(t,e){return this.connect("keyvalues",t,e)},insert:function(t,e){return this.connect("insert",t,e)},update:function(t,e){return this.connect("update",t,e)},remove:function(t,e,n){if(t=t||"",e=e||{},"object"==typeof t)try{e=angular.copy(t)}catch(a){e=t}else e[o]=t;return this.connect("delete",e,n)},isexist:function(t,e){return this.connect("is_exist",t,e)}}}}]),void alt.module("alt-api",alt.modules.api))},"undefined"!=typeof define?define([],function(){alt.loader.api()}):alt.loader.api(),alt.loader.auth=function(){return"undefined"!=typeof alt.modules.auth?alt.modules.auth:(alt.modules.auth=angular.module("alt-auth",["angular-jwt"]).factory("$auth",["$log","$window","$store","jwtHelper",function(t,e,n,o){return n.set("token",n.get("token")||""),n.set("userdata",n.get("userdata")||{}),{token:"",userdata:{},set_token:function(t){this.token=t,n.set("token",this.token)},set_userdata:function(t){this.userdata=t,n.set("userdata",this.userdata)},login:function(t){"string"==typeof t?(this.set_token(t),this.set_userdata(o.decodeToken(this.token))):this.set_userdata(t)},logout:function(){this.token="",this.userdata={},n.set("token",""),n.set("userdata",{}),n.set("filter",""),n.set("sorting","")},islogin:function(){return""!=this.token?!o.isTokenExpired(this.token):Object.keys(this.userdata).length>0},check:function(t){return 0==t?this.islogin():this.islogin()&&"undefined"!=typeof this.userdata.userlevel&&(parseInt(this.userdata.userlevel)&parseInt(t))>0},set_permission:function(t,n){return n="undefined"!=typeof n?n:!0,this.check(t)?!0:(n&&(e.location.href=alt.baseUrl+"error?code=403"),!1)}}}]).config(["$provide","$httpProvider",function(t,e){t.factory("authHttpInterceptor",["$auth","$log","$q","$window",function(t,e,n,o){return{request:function(e){return t.token&&(e.headers.Authorization="Bearer "+t.token),e}}}]),e.interceptors.reverse().push("authHttpInterceptor"),e.interceptors.reverse()}]).run(["$rootScope","$auth","$log","$store",function(t,e,n,o){t.$auth=e,""!=o.get("token")&&e.login(o.get("token")),""!=o.get("userdata")&&e.login(o.get("userdata"))}]),void alt.module("alt-auth",alt.modules.auth))},"undefined"!=typeof define?define([],function(){alt.loader.auth()}):alt.loader.auth(),alt.loader.button=function(){return"undefined"!=typeof alt.modules.button?alt.modules.button:(alt.buttons={login:{title:"Login",title_clicked:"Logging in...",description:"Login",icon:"",onclick:angular.noop,href:"","class":"btn btn-primary btn-large btn-block",type:"submit",style:"width: 100%;",disabled:!1},excel:{title:"Excel",description:"Download Excel",icon:"fa fa-cloud-download",onclick:angular.noop,href:"","class":"btn btn-info hidden-xs",disabled:!1},reset:{title:"Reset",description:"Reset",onclick:angular.noop,href:"",icon:"fa fa-refresh","class":"btn btn-warning",disabled:!1},reload:{title:"Reload",description:"Reload",onclick:angular.noop,href:"",icon:"fa fa-rotate-left","class":"btn btn-primary",disabled:!1},add:{title:"Tambah",description:"Tambah",onclick:angular.noop,href:"",icon:"fa fa-plus-circle","class":"btn btn-success",disabled:!1},sub:{title:"Kurang",description:"Kurang",onclick:angular.noop,href:"",icon:"fa fa-minus-sign","class":"btn btn-primary",disabled:!1},back:{title:"Kembali",description:"Kembali",onclick:angular.noop,href:"",icon:"fa fa-arrow-circle-left","class":"btn btn-warning",disabled:!1},save:{title:"Simpan",description:"Simpan",onclick:angular.noop,href:"",icon:"fa fa-save","class":"btn btn-success",disabled:!1},print:{title:"Print",description:"Print",onclick:angular.noop,href:"",icon:"fa fa-print","class":"btn btn-success",disabled:!1},email:{title:"Email",description:"Email",onclick:angular.noop,href:"",icon:"fa fa-envelope","class":"btn btn-success",disabled:!1},view:{title:"Lihat",description:"Lihat",onclick:angular.noop,href:"",icon:"fa fa-search","class":"btn btn-info",disabled:!1},edit:{title:"Edit",description:"Edit",onclick:angular.noop,href:"",icon:"fa fa-edit","class":"btn btn-warning",disabled:!1},remove:{title:"Hapus",description:"Hapus",onclick:angular.noop,href:"",icon:"fa fa-trash","class":"btn btn-danger",disabled:!1},yes:{title:"Ya",description:"Ya",onclick:angular.noop,href:"",icon:"fa fa-check","class":"btn btn-success",disabled:!1},no:{title:"Tidak",description:"Tidak",onclick:angular.noop,href:"",icon:"fa fa-remove","class":"btn btn-danger",disabled:!1},cancel:{title:"Batal",description:"Batal",onclick:angular.noop,href:"",icon:"fa fa-remove","class":"btn btn-danger",disabled:!1},verification:{title:"Verifikasi",description:"Verifikasi",onclick:angular.noop,href:"",icon:"fa fa-check-square-o","class":"btn btn-success",disabled:!1},approve:{title:"Approve",description:"Approve",onclick:angular.noop,href:"",icon:"fa fa-check-square-o","class":"btn btn-success",disabled:!1},reject:{title:"Reject",description:"Reject",onclick:angular.noop,href:"",icon:"fa fa-remove","class":"btn btn-danger",disabled:!1},search:{title:"Cari",description:"Cari",onclick:angular.noop,href:"",icon:"fa fa-search","class":"btn btn-default",disabled:!1},preview:{title:"Preview",description:"Preview",onclick:angular.noop,href:"",icon:"fa fa-file-text-alt","class":"btn btn-info",disabled:!1},open:{title:"Buka",description:"Buka",onclick:angular.noop,href:"",icon:"fa fa-folder-open","class":"btn btn-primary",disabled:!1},close:{title:"Tutup",description:"Tutup",onclick:angular.noop,href:"",icon:"fa fa-close","class":"btn btn-danger",disabled:!1},next:{title:"Berikutnya",description:"Berikutnya",onclick:angular.noop,href:"",icon:"","class":"btn btn-success",disabled:!1},prev:{title:"Sebelumnya",description:"Sebelumnya",onclick:angular.noop,href:"",icon:"","class":"btn btn-default",disabled:!1},zoomin:{title:"Zoom In",description:"Zoom In",onclick:angular.noop,href:"",icon:"","class":"btn btn-default",disabled:!1},zoomout:{title:"Zoom Out",description:"Zoom Out",onclick:angular.noop,href:"",icon:"","class":"btn btn-default",disabled:!1},start:{title:"Mulai",description:"Mulai",onclick:angular.noop,href:"",icon:"","class":"btn btn-primary",disabled:!1},finish:{title:"Selesai",description:"Selesai",onclick:angular.noop,href:"",icon:"","class":"btn btn-primary",disabled:!1},choose:{title:"Pilih",description:"Pilih",onclick:angular.noop,href:"",icon:"fa fa-check-square-o","class":"btn btn-red",disabled:!1},unchoose:{title:"",description:"",onclick:angular.noop,href:"",icon:"fa fa-square-o","class":"btn btn-default",disabled:!1},up:{title:"Naik",description:"Naik",onclick:angular.noop,href:"",icon:"fa fa-arrow-up","class":"btn btn-default",disabled:!1},down:{title:"Turun",description:"Turun",onclick:angular.noop,href:"",icon:"fa fa-arrow-down","class":"btn btn-default",disabled:!1},generate:{title:"Generate",description:"Generate",onclick:angular.noop,href:"",icon:"fa fa-cogs","class":"btn btn-success",disabled:!1},money:{title:"",description:"",onclick:angular.noop,href:"",icon:"fa fa-money","class":"btn btn-success",disabled:!1},barcode:{title:"Barcode",description:"Barcode",onclick:angular.noop,href:"",icon:"fa fa-barcode","class":"btn btn-primary",disabled:!1},qrcode:{title:"QR code",description:"QR code",onclick:angular.noop,href:"",icon:"fa fa-qrcode","class":"btn btn-primary",disabled:!1},"import":{title:"Import",description:"Import",onclick:angular.noop,href:"",icon:"fa fa-upload","class":"btn btn-info",disabled:!1},"export":{title:"Export",description:"Export",onclick:angular.noop,href:"",icon:"fa fa-download","class":"btn btn-info",disabled:!1},upload:{title:"Upload",description:"Upload",onclick:angular.noop,href:"",icon:"fa fa-upload","class":"btn btn-info",disabled:!1},download:{title:"Download",description:"Download",onclick:angular.noop,href:"",icon:"fa fa-download","class":"btn btn-info",disabled:!1},finalize:{title:"Finalisasi",description:"Finalisasi",onclick:angular.noop,href:"",icon:"fa fa-ok","class":"btn btn-success",disabled:!1},password:{title:"Password",description:"Password",onclick:angular.noop,href:"",icon:"fa fa-key","class":"btn btn-primary",disabled:!1},map:{title:"Peta",description:"Peta",onclick:angular.noop,href:"",icon:"fa fa-map-marker","class":"btn btn-primary",disabled:!1},history:{title:"History",description:"History",onclick:angular.noop,href:"",icon:"fa fa-history","class":"btn btn-primary",disabled:!1},"":{title:"",description:"",onclick:angular.noop,href:"",icon:"",style:"",disabled:!1}},alt.modules.button=angular.module("alt-button",[]).factory("$button",["$log",function(t){return function(t,e){return t=t||"",e=e||{},alt.extend(alt.buttons[t],e)}}]).run(["$rootScope","$button",function(t,e){t.$button=e}]),void alt.module("alt-button",alt.modules.button))},"undefined"!=typeof define?define([],function(){alt.loader.button()}):alt.loader.button(),alt.loader.crypto=function(){return"undefined"!=typeof alt.modules.crypto?alt.modules.crypto:(alt.modules.crypto=angular.module("alt-crypto",[]).factory("$crypto",["$log","$timeout","$rootScope",function(t,e,n){return{encrypt:function(t,e,n){var o=16==e.length,a=CryptoJS.enc[o?"Utf8":"Base64"].parse(e+""),r=CryptoJS.enc.Base64.parse(n+""),i=CryptoJS.AES.encrypt(t,a,o?{padding:CryptoJS.pad.Pkcs7,iv:r}:{mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7,iv:r});return i.toString()},decrypt:function(t,e,n){var o="";try{var a=16==e.length,r=t+"",i=CryptoJS.enc[a?"Utf8":"Base64"].parse(e+""),l=CryptoJS.enc.Base64.parse(n+""),u=CryptoJS.AES.decrypt(r,i,a?{iv:l,padding:CryptoJS.pad.Pkcs7}:{iv:l,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});if(o=a?CryptoJS.enc.Utf8.stringify(u):u?u.toString(CryptoJS.enc.Utf8):"",a){for(var c="",s=0;s<o.length;s++)"AA=="!=btoa(o[s])&&(c+=o[s]);o=c}}catch(d){throw new Error("Tidak dapat melakukan parsing response dari server")}return o}}}]).run(["$log","$timeout","$rootScope","$crypto",function(t,e,n,o){n.$crypto=o}]),void alt.module("alt-crypto",alt.modules.crypto))},"undefined"!=typeof define?define([],function(){alt.loader.crypto()}):alt.loader.crypto(),alt.loader["export"]=function(){return"undefined"!=typeof alt.modules["export"]?alt.modules["export"]:(alt.modules["export"]=angular.module("alt-export",[]).factory("$export",["$log",function(t){return{excel:function(t,e){e=e||"download",t+="";var n="data:application/vnd.ms-excel;base64,",o="";o+='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:Name>'+e+"</x:Name><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>"+e+"</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body>",o+=t,o+="</body></html>",window.open(n+window.btoa(o),"_blank")},print:function(t,e){t=t||"",e=e||"";var n=window.open("","","left=0,top=0,width=800,height=900,toolbar=0,scrollbars=0,status=0");n.document.write(e),n.document.write(t),n.document.close(),n.focus(),n.print(),n.close()}}}]),void alt.module("alt-export",alt.modules["export"]))},"undefined"!=typeof define?define([],function(){alt.loader["export"]()}):alt.loader["export"](),alt.loader.i18n=function(){return"undefined"!=typeof alt.modules.i18n?alt.modules.i18n:(alt.language="id",alt.dictionary=alt.extend({id:{}},alt.dictionary),alt.modules.i18n=angular.module("alt-i18n",[]).run(["$rootScope","$i18n",function(t,e){t.$i18n=e}]).factory("$i18n",["$log",function(t){return function(t){return alt.dictionary[alt.language]?alt.dictionary[alt.language][t]||t:t}}]),void alt.module("alt-i18n",alt.modules.i18n))},"undefined"!=typeof define?define([],function(){alt.loader.i18n()}):alt.loader.i18n(),alt.loader.loading=function(){"undefined"==typeof alt.modules.loading&&(alt.modules.loading=angular.module("alt-loading",[]).factory("$loading",["$log","$rootScope",function(t,e){return{show:function(){e.$loading.counter++,e.$loading.isshow=e.$loading.counter>0},close:function(){e.$loading.counter--,e.$loading.isshow=e.$loading.counter>0}}}]).run(["$log","$timeout","$rootScope","$loading",function(t,e,n,o){n.$loading={}}]),alt.module("alt-loading",alt.modules.loading))},"undefined"!=typeof define?define([],function(){alt.loader.loading()}):alt.loader.loading(),alt.loader.menu=function(){return"undefined"!=typeof alt.modules.menu?alt.modules.menu:(alt.menu="",alt.menuFolder=alt.menuFolder||"menu",alt.modules.menu=angular.module("alt-menu",[]).run(["$rootScope","$store",function(t,e){t.menu=e.get("menu")||{submenu:""},t.$watch("menu",function(n,o){n!=o&&(e.set("menu",n),t.menu=n)},!0),t.$on("$routeChangeStart",function(e,n,o){alt.menu=alt.menuFolder+"/"+("viewer"==n.params.altaction?$auth.userdata.usergroupname:"public")+".html",t.menuLocation=alt.menu,t.menu.submenu=""})}]),void alt.module("alt-menu",alt.modules.menu))},"undefined"!=typeof define?define([],function(){alt.loader.menu()}):alt.loader.menu(),alt.loader.notification=function(){"undefined"==typeof alt.modules.notification&&(alt.modules.notification=angular.module("alt-notification",[]).factory("$notification",["$log","$rootScope",function(t,e){return{get:function(){null!=e.$notification.isloading&&e.$notification.isloading.abort&&e.$notification.isloading.abort(),e.$notification.count=0,e.$notification.notif={},e.$notification.isloading=e.$notification.get()}}}]).run(["$log","$notification","$rootScope",function(t,e,n){n.$notification={count:0,notif:{},isloading:null,get:angular.noop},n.$on("$routeChangeStart",function(t,e,o){n.$notification.get()})}]),alt.module("alt-notification",alt.modules.notification))},"undefined"!=typeof define?define([],function(){alt.loader.notification()}):alt.loader.notification(),alt.loader.number=function(){return"undefined"!=typeof alt.modules.number?alt.modules.number:(alt.modules.number=angular.module("alt-format",[]).factory("$number",["$log","$timeout","$rootScope",function(t,e,n){return{format:function(t,e,n,o){return t=t||0,e=e||0,n=n||".",o=o||",",accounting.formatNumber(t,e,n,o)},unformat:function(t,e){return t=t||0,e=e||",",accounting.unformat(t,e)}}}]).run(["$log","$timeout","$rootScope","$number",function(t,e,n,o){n.$number=o}]),void alt.module("alt-format",alt.modules.number))},"undefined"!=typeof define?define([],function(){alt.loader.number()}):alt.loader.number(),alt.loader.popup=function(){"undefined"==typeof alt.modules.popup&&(alt.modules.popup=angular.module("alt-popup",[]).factory("$popup",["$log","$rootScope","$button","$q",function(t,e,n,o){var a={deferred:null,alert:function(t){return"string"==typeof t&&(t={title:t,buttons:[n("close",{onclick:function(){a.close(!0)}})]}),this.show("alert",t)},confirm:function(t){return"string"==typeof t&&(t={title:t,buttons:[n("yes",{onclick:function(){a.close(!0)}}),n("no",{onclick:function(){a.close(!1)}})]}),this.show("confirm",t)},prompt:function(t){return"string"==typeof t&&(t={title:t,buttons:[n("save",{onclick:function(){a.close(!0)}}),n("cancel",{onclick:function(){a.close(!1)}})]}),this.show("prompt",t)},show:function(t,n){return this.deferred=o.defer(),angular.forEach(n,function(t,n){e.$popup[n]=t}),e.$popup.type=!0,e.$popup.isshow=!0,e.$popup.showinput="prompt"==t,this.deferred.promise},close:function(t,n){e.$popup.isshow=!1,e.$popup.response.status=t,e.$popup.response.data=n||e.$popup.response.data,this.deferred[t?"resolve":"reject"](e.$popup.response)}};return a}]).run(["$log","$timeout","$rootScope",function(t,e,n){n.$popup={}}]),alt.module("alt-popup",alt.modules.popup))},"undefined"!=typeof define?define([],function(){alt.loader.popup()}):alt.loader.popup(),alt.loader.route=function(){return"undefined"!=typeof alt.modules.route?alt.modules.route:(alt.baseUrl="#!/",alt.routeFolder=alt.routeFolder||"route",alt.defaultRoute=alt.defaultRoute||"",alt.modules.route=angular.module("alt-route",["ngRoute"]).config(["$locationProvider","$compileProvider","$routeProvider",function(t,e,n){t.html5Mode(!1),t.hashPrefix("!");var o=/^\s*(https?|ftp|mailto|file|tel|app):|data:image|javascript:|\//;e.urlSanitizationWhitelist&&e.urlSanitizationWhitelist(o),alt.routing=function(){return{templateUrl:function(t){var e=alt.routeFolder+"/"+(t.altmodule?t.altmodule+"/":"")+(t.altcontroller?t.altcontroller+"/":"")+(t.altaction?t.altaction+"/":""),n=e+"view."+(""!=alt.theme?alt.theme+".":"")+"html"+(""!=alt.urlArgs?"?"+alt.urlArgs:"");return n},controller:["$scope","$log","$routeParams","$rootScope","$q",function(t,e,n,o,a){var r=o.onRouteChanged(n)||function(){var t=a.defer();return t.resolve(),t.promise},i=alt.routeFolder+"/"+(n.altmodule?n.altmodule+"/":"")+(n.altcontroller?n.altcontroller+"/":"")+(n.altaction?n.altaction+"/":""),l=angular.element(document.getElementsByTagName("body")[0]).injector();r.then(function(){requirejs([i+"controller"],function(e){var n=0,a=[];if("function"==typeof e){for(n=0;n<arguments.length;n++)a.push(arguments[n]);a.push(l),e.apply(this,a)}else if("object"==typeof e&&e.length){var r,i="function"==typeof e[e.length-1]?e[e.length-1]:angular.noop,u="function"==typeof e[e.length-1]?e.length-1:e.length;for(n=0;u>n;n++){switch(r=null,e[n]){case"$scope":r=t;break;case"$injector":r=l;break;default:r=l.get(e[n])||null}a.push(r)}i.apply(this,a)}t.$apply(),o.$emit("$routeChangeLoaded")})})}]}},n.when("/",""!=alt.defaultRoute?{redirectTo:alt.defaultRoute}:alt.routing()),n.when("/:altaction",alt.routing()),n.when("/:altcontroller/:altaction",alt.routing()),n.when("/:altmodule/:altcontroller/:altaction",alt.routing()),n.otherwise({resolve:{redirectCheck:["$location",function(t){-1===t.absUrl().indexOf(alt.baseUrl)&&t.path("/")}]}})}]),void alt.module("alt-route",alt.modules.route))},"undefined"!=typeof define?define([],function(){alt.loader.route()}):alt.loader.route(),alt.loader.secure=function(){return"undefined"!=typeof alt.modules.secure?alt.modules.secure:(alt.modules.secure=angular.module("alt-secure",[]).config(["$provide","$httpProvider",function(t,e){t.factory("secureRequestHttpInterceptor",["$log","$q","$window","$crypto",function(t,e,n,o){return{request:function(t){return t.data&&"production"==alt.environment&&"POST"==t.method&&0===t.url.indexOf(alt.serverUrl)&&"application/x-www-form-urlencoded"==t.headers["Content-Type"]&&-1==t.url.indexOf("auth/secure")&&"undefined"!=typeof alt.secure&&"undefined"!=typeof alt.secure.key&&"undefined"!=typeof alt.secure.iv&&(t.data=o.encrypt(t.data,alt.secure.key,alt.secure.iv)),t}}}]),e.interceptors.push("secureRequestHttpInterceptor"),t.factory("secureResponseHttpInterceptor",["$log","$q","$crypto",function(t,e,n){var o={response:function(t){if("production"==alt.environment&&"POST"==t.config.method&&0===t.config.url.indexOf(alt.serverUrl)&&"application/x-www-form-urlencoded"==t.config.headers["Content-Type"]&&-1==t.config.url.indexOf("auth/secure")&&"undefined"!=typeof alt.secure&&"undefined"!=typeof alt.secure.key&&"undefined"!=typeof alt.secure.iv){var o=n.decrypt(t.data,alt.secure.key,alt.secure.iv);try{var a=angular.fromJson(o);"undefined"==typeof a.s||"undefined"==typeof a.m&&"undefined"==typeof a.d?t.data=a:(t.status=a.s,t.message=a.m,t.data=a.d)}catch(r){t.data=o}if(200!=t.status)return t.message=t.data||t.message,e.reject(t)}return t},responseError:function(t){var n=o.response(t);return 200!=t.status?e.reject(n):n}};return o}]),e.interceptors.splice(1,0,"secureResponseHttpInterceptor")}]),void alt.module("alt-secure",alt.modules.secure))},"undefined"!=typeof define?define([],function(){alt.loader.secure()}):alt.loader.secure(),alt.loader.socket=function(){return"undefined"!=typeof alt.modules.socket?alt.modules.socket:(alt.socketUrl="",alt.modules.socket=angular.module("alt-socket",[]).provider("socketFactory",[function(){"use strict";var t="socket:";this.$get=["$rootScope","$timeout",function(e,n){var o=function(t,e){return e?function(){var o=arguments;n(function(){e.apply(t,o)},0)}:angular.noop};return function(n){n=n||{};var a=n.ioSocket||io.connect(),r=void 0===n.prefix?t:n.prefix,i=n.scope||e,l=function(t,e){a.on(t,e.__ng=o(a,e))},u=function(t,e){a.once(t,e.__ng=o(a,e))},c={on:l,addListener:l,once:u,emit:function(t,e,n){var r=arguments.length-1,n=arguments[r];return"function"==typeof n&&(n=o(a,n),arguments[r]=n),a.emit.apply(a,arguments)},removeListener:function(t,e){return e&&e.__ng&&(arguments[1]=e.__ng),a.removeListener.apply(a,arguments)},removeAllListeners:function(){return a.removeAllListeners.apply(a,arguments)},disconnect:function(t){return a.disconnect(t)},connect:function(){return a.connect()},forward:function(t,e){t instanceof Array==!1&&(t=[t]),e||(e=i),t.forEach(function(t){var n=r+t,i=o(a,function(){Array.prototype.unshift.call(arguments,n),e.$broadcast.apply(e,arguments)});e.$on("$destroy",function(){a.removeListener(t,i)}),a.on(t,i)})}};return c}}]}]).factory("$socket",["socketFactory",function(t){return t({ioSocket:io.connect(alt.socketUrl||alt.serverUrl)})}]),void alt.module("alt-socket",alt.modules.socket))},"undefined"!=typeof define?define([],function(){alt.loader.socket()}):alt.loader.socket(),alt.loader.store=function(){return"undefined"!=typeof alt.modules.store?alt.modules.store:(alt.modules.store=angular.module("alt-store",["angular-storage","ngCookies"]).factory("$store",["$log","store",function(t,e){return e.getNamespacedStore(alt.application)}]).run(["$rootScope","$store",function(t,e){t.$store=e}]),void alt.module("alt-store",alt.modules.store))},"undefined"!=typeof define?define([],function(){
alt.loader.store()}):alt.loader.store(),alt.loader.validation=function(){return"undefined"!=typeof alt.modules.validation?alt.modules.validation:(alt.validate=!0,alt.modules.validation=angular.module("alt-validation",[]).factory("$valid",["$log",function(t){return{required:function(t){return 0!==t&&(t=(t||"")+""),""!==t&&"undefined"!=typeof t},regex:function(t,e){return t=(t||"")+"",e.test(t)},email:function(t){return this.regex(t,/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i)},username:function(t){return t+="",t.toLowerCase().replace(/[^a-z0-9._-]/,"")},number:function(t){return this.regex(t,/^[0-9]+\.?[0-9]*?$/i)},integer:function(t){return this.regex(t,/^[0-9]*$/i)},equals:function(t,e){return t===e},notequals:function(t,e){return t!==e},lessthan:function(t,e){return e>t},lessequalthan:function(t,e){return e>=t},greaterthan:function(t,e){return t>e},greaterequalthan:function(t,e){return e>=t},between:function(t,e,n){return t>=e&&n>=t},date:function(t){return t+="",8==t.length&&moment(t,"YYYYMMDD").isValid()},month:function(t){return t+="",6==t.length&&moment(t,"YYYYMM").isValid()},year:function(t){return t+="",4==t.length&&moment(t,"YYYY").isValid()},time:function(t){return t+="",4==t.length&&moment(t,"HHmm").isValid()}}}]).factory("$validate",["$valid","$log","$injector",function(t,e,n){var o=function(t){return t="undefined"!=typeof t?t:"undefined"!=typeof alt.validate?alt.validate:!0,{rules:[],messages:[],rule:function(t,e){return this.rules.push(t),this.messages.push(e),this},validate:function(){for(var e=!0,n=[],o=0;o<this.rules.length;o++)this.rules[o]||(e=!1,n.push(this.messages[o]));return{res:t?e:!0,message:n}},check:function(){var t=this.validate(),e=n.get("$alert");if(!t.res&&e)for(var o=0;o<t.message.length;o++)e.add(t.message[o],e.danger);return t.res}}};for(var a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);return o}]),void alt.module("alt-validation",alt.modules.route))},"undefined"!=typeof define?define([],function(){alt.loader.validation()}):alt.loader.validation();